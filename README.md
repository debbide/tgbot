# 🤖 TG 多功能机器人 (Docker 版)

功能强大的 Telegram 机器人，集成了 AI 聊天、实用工具、RSS 订阅等功能，支持 Docker 一键部署和 Web 面板管理。

## ✨ 功能特性

### 🤖 AI 智能助手
- **💬 智能对话**：基于 OpenAI，支持多轮对话上下文记忆。
- **📝 智能摘要**：发送长文或链接，AI 自动生成精简摘要。
- **🎭 角色扮演**：可定制 System Prompt (通过 Web 面板)。

### 🛠️ 实用工具
- **🌐 翻译**：`/tr` 快速翻译文本。
- **🔗 短链接**：`/short` 生成短链接。
- **📱 二维码**：`/qr` 生成二维码。
- **🌤️ 天气**：`/weather` 查询全球天气。
- **💰 汇率**：`/rate` 实时汇率换算。
- **🆔 ID 查询**：`/id` 获取用户/群组 ID。
- **🌍 网络工具**：`/ip` 查询归属地，`/whois` 查询域名信息。

### 📝 记录与提醒
- **⏰ 定时提醒**：支持特定时间或倒计时提醒。
- **📝 备忘录**：随手记录，随时查看。

### 📰 RSS 订阅增强
- **⏱️ 动态间隔**：可自定义检查频率。
- **🔍 关键词过滤**：支持白名单和黑名单过滤。
- **📊 集中管理**：通过菜单或命令轻松管理订阅。

### ⚙️ 系统特性
- **🖥️ Web 配置面板**：可视化管理所有配置，无需修改文件。
- **🔄 热重载**：修改配置后即时生效（部分需重启的功能支持一键重启）。
- **📊 使用统计**：面板展示调用量和热门命令。
- **🐳 Docker 部署**：开箱即用，数据持久化。

## 🚀 快速部署

### 1. 启动服务

```bash
# 构建并启动
docker-compose up -d
```

### 2. 配置 Bot

1. 访问面板：`http://localhost:3000`
2. 默认密码：`admin` (建议首次登录后在环境变量中修改)
3. 在面板中填入：
   - **Bot Token**: 从 @BotFather 获取
   - **OpenAI Key**: 用于 AI 功能 (可选)
4. 点击保存，然后点击顶部 **"重启 Bot"** 按钮。

## 📂 目录结构

```
.
├── data/               # 数据持久化目录 (数据库, 配置文件)
├── src/                # 源代码
├── .github/            # GitHub Actions
├── docker-compose.yml  # Docker 编排
├── Dockerfile          # Docker 构建文件
└── index.js            # 入口文件
```

## 📝 命令列表

发送 `/start` 或 `/help` 唤起交互式菜单，或使用以下命令：

| 命令 | 说明 | 示例 |
|------|------|------|
| `/chat` | AI 对话 | `/chat 写首诗` |
| `/sum` | 智能摘要 | `/sum https://...` |
| `/tr` | 翻译 | `/tr hello` |
| `/rss` | RSS 管理 | `/rss add URL` |
| `/remind` | 提醒 | `/remind 10m 喝水` |
| `/ip` | IP 查询 | `/ip 1.1.1.1` |

## 🛠️ 开发与贡献

欢迎提交 PR！

```bash
# 安装依赖
npm install

# 本地启动
npm start
```

## 📄 License

MIT
